import{_ as h,o as s,c as n,a as f,t as y,l as F,d as S,f as b,F as M,j as N,i as w,b as u,w as p,h as V,n as O,k as g,e as C}from"./index-Dhnfb-Xo.js";import{S as x,B as T,T as j}from"./settings-j8xjObXo.js";import{p as U}from"./providers-DuNP5hnQ.js";import"./index.es-EnnJNdbw.js";const G={__name:"Group",props:{title:String},setup(c,{expose:d}){d();const t={};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},K={class:"mb-4 border-b pb-4 space-y-4"},E={class:"mb-5 text-xl font-bold"};function I(c,d,t,e,i,_){return s(),n("div",K,[f("h2",E,y(t.title),1),F(c.$slots,"default")])}const L=h(G,[["render",I],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/components/Group.vue"]]),A={__name:"Subgroup",props:{title:String},setup(c,{expose:d}){d();const t=S(!1),i={isOpen:t,toggleOpen:()=>{t.value=!t.value},ref:S};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}},J={class:"border p-4 rounded-md"},R={key:0},Y={key:1},q={key:0};function z(c,d,t,e,i,_){return s(),n("div",J,[f("h3",{class:"mb-2 text-lg font-semibold cursor-pointer space-x-2",onClick:e.toggleOpen},[e.isOpen?(s(),n("span",R,"▼")):(s(),n("span",Y,"►")),f("span",null,y(t.title),1)]),e.isOpen?(s(),n("div",q,[F(c.$slots,"default")])):b("v-if",!0)])}const D=h(A,[["render",z],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/components/Subgroup.vue"]]),H={__name:"Field",props:{label:String,type:String,options:Array,modelValue:[String,Number]},emits:["update:modelValue"],setup(c,{expose:d,emit:t}){d();const e=t,_={emit:e,updateValue:o=>{e("update:modelValue",o.target.value)}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}},Q={class:"mb-5 flex space-x-2 items-center"},W=["for"],X=["id","value"],Z=["id","value"],$=["id","value"],ee=["value"];function te(c,d,t,e,i,_){return s(),n("div",Q,[f("label",{for:t.label,class:"block mb-1 whitespace-nowrap w-32"},y(t.label),9,W),t.type==="text"?(s(),n("input",{key:0,id:t.label,value:t.modelValue,onInput:e.updateValue,class:"w-full p-2 border rounded",type:"text"},null,40,X)):b("v-if",!0),t.type==="password"?(s(),n("input",{key:1,id:t.label,value:t.modelValue,onInput:e.updateValue,class:"w-full p-2 border rounded",type:"password"},null,40,Z)):b("v-if",!0),t.type==="select"?(s(),n("select",{key:2,id:t.label,value:t.modelValue,onChange:e.updateValue,class:"w-full p-2 border rounded"},[(s(!0),n(M,null,N(t.options,o=>(s(),n("option",{key:o,value:o},y(o),9,ee))),128))],40,$)):b("v-if",!0)])}const oe=h(H,[["render",te],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/components/Field.vue"]]),le={__name:"Settings",setup(c,{expose:d}){d();const t=S({general:{theme:"light"},providers:[]}),e=U,i=()=>{const l=V.get(x);l!=null&&l.id&&(l.providers=l.providers||[],l.providers=l.providers.map(a=>{const m=e.find(B=>B.label===a.name);return(m?[...m.models,"custom"]:["custom"]).includes(a.model)||(a.customModel=a.model,a.model="custom"),a}),t.value=l)},_=()=>{const l=JSON.parse(JSON.stringify(t.value));l.providers=l.providers.map(a=>{const m=e.find(P=>P.label===a.name);return a.url=m?m.url:"",a.model==="custom"&&(a.model=a.customModel),a}),l.providers.length&&!l.providerSelected&&(l.providerSelected=0),l.id=x,V.update(l),i(),O.showNotification("Settings saved!")},o=()=>{t.value.providers.push({name:"",model:"",customModel:"",apiKey:"",proxyUrl:""})},v=l=>{t.value.providers.splice(l,1)},r=l=>{const a=e.find(m=>m.label===l);return a?[...a.models,"custom"]:["custom"]};w(()=>{i()});const k={settings:t,providerOptions:e,loadSettings:i,saveSettings:_,addProvider:o,removeProvider:v,getModelsForProvider:r,onMounted:w,ref:S,Group:L,Subgroup:D,Field:oe,Button:T,get database(){return V},Title:j,get providers(){return U},get SETTINGS_KEY(){return x},get notification(){return O}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}},ae={class:"space-y-4 px-96 m-auto h-full overflow-y-auto p-8"},se={class:"flex justify-end"},ne={class:"flex justify-end"};function re(c,d,t,e,i,_){return s(),n("div",ae,[u(e.Title,null,{default:p(()=>[g("Settings")]),_:1}),u(e.Group,{title:"LLM Providers"},{default:p(()=>[(s(!0),n(M,null,N(e.settings.providers,(o,v)=>(s(),n("div",{key:v,class:""},[u(e.Subgroup,{title:"Provider "+(v+1)},{default:p(()=>[u(e.Field,{modelValue:o.name,"onUpdate:modelValue":r=>o.name=r,options:e.providerOptions.map(r=>r.label),label:"Provider",type:"select"},null,8,["modelValue","onUpdate:modelValue","options"]),u(e.Field,{modelValue:o.model,"onUpdate:modelValue":r=>o.model=r,options:e.getModelsForProvider(o.name),label:"Model",type:"select"},null,8,["modelValue","onUpdate:modelValue","options"]),o.model==="custom"?(s(),C(e.Field,{key:0,modelValue:o.customModel,"onUpdate:modelValue":r=>o.customModel=r,label:"Custom Model",type:"text"},null,8,["modelValue","onUpdate:modelValue"])):b("v-if",!0),u(e.Field,{modelValue:o.apiKey,"onUpdate:modelValue":r=>o.apiKey=r,label:"API Key",type:"password"},null,8,["modelValue","onUpdate:modelValue"]),u(e.Field,{modelValue:o.proxyUrl,"onUpdate:modelValue":r=>o.proxyUrl=r,label:"Proxy URL",type:"text"},null,8,["modelValue","onUpdate:modelValue"]),u(e.Button,{class:"mt-2",onClick:()=>e.removeProvider(v)},{default:p(()=>[g("Remove")]),_:2},1032,["onClick"])]),_:2},1032,["title"])]))),128)),f("div",se,[u(e.Button,{onClick:e.addProvider},{default:p(()=>[g("Add Provider")]),_:1})])]),_:1}),f("div",ne,[u(e.Button,{onClick:e.saveSettings},{default:p(()=>[g("Save Settings")]),_:1})])])}const _e=h(le,[["render",re],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/views/settings/Settings.vue"]]);export{_e as default};
