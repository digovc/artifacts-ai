import{_ as S,o as d,c as u,a as h,t as g,l as F,f as v,F as M,j as T,d as P,i as w,b as n,w as _,h as V,k as b,e as N}from"./index-BzC3ms0V.js";import{S as y,B as C,T as G}from"./settings-Dqfsr9Kg.js";import{p as U}from"./providers-CI2ysSMc.js";import"./index.es-sGDKKB-x.js";const O={__name:"Group",props:{title:String},setup(i,{expose:s}){s();const t={};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},K={class:"mb-10 border-b pb-4 space-y-8"},j={class:"mb-5 text-xl font-bold"};function E(i,s,t,e,c,m){return d(),u("div",K,[h("h2",j,g(t.title),1),F(i.$slots,"default")])}const I=S(O,[["render",E],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/components/Group.vue"]]),L={__name:"Subgroup",props:{title:String},setup(i,{expose:s}){s();const t={};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},A={class:"mb-5"},J={class:"mb-2 text-lg font-semibold"};function R(i,s,t,e,c,m){return d(),u("div",A,[h("h3",J,g(t.title),1),F(i.$slots,"default")])}const Y=S(L,[["render",R],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/components/Subgroup.vue"]]),q={__name:"Field",props:{label:String,type:String,options:Array,modelValue:[String,Number]},emits:["update:modelValue"],setup(i,{expose:s,emit:t}){s();const e=t,m={emit:e,updateValue:l=>{e("update:modelValue",l.target.value)}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},z={class:"mb-5 flex space-x-2 items-center"},D=["for"],H=["id","value"],Q=["id","value"],W=["id","value"],X=["value"];function Z(i,s,t,e,c,m){return d(),u("div",z,[h("label",{for:t.label,class:"block mb-1 whitespace-nowrap w-32"},g(t.label),9,D),t.type==="text"?(d(),u("input",{key:0,id:t.label,value:t.modelValue,onInput:e.updateValue,class:"w-full p-2 border rounded",type:"text"},null,40,H)):v("v-if",!0),t.type==="password"?(d(),u("input",{key:1,id:t.label,value:t.modelValue,onInput:e.updateValue,class:"w-full p-2 border rounded",type:"password"},null,40,Q)):v("v-if",!0),t.type==="select"?(d(),u("select",{key:2,id:t.label,value:t.modelValue,onChange:e.updateValue,class:"w-full p-2 border rounded"},[(d(!0),u(M,null,T(t.options,l=>(d(),u("option",{key:l,value:l},g(l),9,X))),128))],40,W)):v("v-if",!0)])}const $=S(q,[["render",Z],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/components/Field.vue"]]),ee={__name:"Settings",setup(i,{expose:s}){s();const t=P({general:{theme:"light"},providers:[]}),e=U,c=()=>{const o=V.get(y);o!=null&&o.id&&(o.providers=o.providers||[],o.providers=o.providers.map(a=>{const p=e.find(B=>B.label===a.name);return(p?[...p.models,"custom"]:["custom"]).includes(a.model)||(a.customModel=a.model,a.model="custom"),a}),t.value=o)},m=()=>{const o=JSON.parse(JSON.stringify(t.value));o.providers=o.providers.map(a=>{const p=e.find(k=>k.label===a.name);return a.url=p?p.url:"",a.model==="custom"&&(a.model=a.customModel),a}),o.providers.length&&!o.providerSelected&&(o.providerSelected=o.providers[0].name),o.id=y,V.update(o),c()},l=()=>{t.value.providers.push({name:"",model:"",customModel:"",apiKey:"",proxyUrl:""})},f=o=>{t.value.providers.splice(o,1)},r=o=>{const a=e.find(p=>p.label===o);return a?[...a.models,"custom"]:["custom"]};w(()=>{c()});const x={settings:t,providerOptions:e,loadSettings:c,saveSettings:m,addProvider:l,removeProvider:f,getModelsForProvider:r,onMounted:w,ref:P,Group:I,Subgroup:Y,Field:$,Button:C,get database(){return V},Title:G,get providers(){return U},get SETTINGS_KEY(){return y}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}},te={class:"space-y-12 w-2/4 m-auto h-full overflow-y-auto p-8"};function le(i,s,t,e,c,m){return d(),u("div",te,[n(e.Title,null,{default:_(()=>[b("Settings")]),_:1}),n(e.Group,{title:"General"},{default:_(()=>[n(e.Subgroup,{title:"Theme"},{default:_(()=>[n(e.Field,{modelValue:e.settings.general.theme,"onUpdate:modelValue":s[0]||(s[0]=l=>e.settings.general.theme=l),options:["light","dark"],label:"Theme",type:"select"},null,8,["modelValue"])]),_:1})]),_:1}),n(e.Group,{title:"LLM Providers"},{default:_(()=>[n(e.Button,{onClick:e.addProvider},{default:_(()=>[b("Add Provider")]),_:1}),(d(!0),u(M,null,T(e.settings.providers,(l,f)=>(d(),u("div",{key:f,class:"pb-4 mb-4"},[n(e.Subgroup,{title:"Provider "+(f+1)},{default:_(()=>[n(e.Field,{modelValue:l.name,"onUpdate:modelValue":r=>l.name=r,options:e.providerOptions.map(r=>r.label),label:"Provider",type:"select"},null,8,["modelValue","onUpdate:modelValue","options"]),n(e.Field,{modelValue:l.model,"onUpdate:modelValue":r=>l.model=r,options:e.getModelsForProvider(l.name),label:"Model",type:"select"},null,8,["modelValue","onUpdate:modelValue","options"]),l.model==="custom"?(d(),N(e.Field,{key:0,modelValue:l.customModel,"onUpdate:modelValue":r=>l.customModel=r,label:"Custom Model",type:"text"},null,8,["modelValue","onUpdate:modelValue"])):v("v-if",!0),n(e.Field,{modelValue:l.apiKey,"onUpdate:modelValue":r=>l.apiKey=r,label:"API Key",type:"password"},null,8,["modelValue","onUpdate:modelValue"]),n(e.Field,{modelValue:l.proxyUrl,"onUpdate:modelValue":r=>l.proxyUrl=r,label:"Proxy URL",type:"text"},null,8,["modelValue","onUpdate:modelValue"]),n(e.Button,{class:"mt-2",onClick:()=>e.removeProvider(f)},{default:_(()=>[b("Remove")]),_:2},1032,["onClick"])]),_:2},1032,["title"])]))),128))]),_:1}),n(e.Button,{onClick:e.saveSettings},{default:_(()=>[b("Save Settings")]),_:1})])}const ne=S(ee,[["render",le],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/views/settings/Settings.vue"]]);export{ne as default};
