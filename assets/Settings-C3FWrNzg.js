import{_ as S,o as d,c as i,a as h,t as g,l as M,f as v,F as T,j as N,d as w,i as P,b as r,w as _,h as V,n as U,k as b,e as C}from"./index-C4LFH33j.js";import{S as y,B as G,T as O}from"./settings-BHHgN3YC.js";import{p as F}from"./providers-BPc3q5J3.js";import"./index.es-C5fDxilF.js";const K={__name:"Group",props:{title:String},setup(u,{expose:s}){s();const t={};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},j={class:"mb-10 border-b pb-4 space-y-8"},E={class:"mb-5 text-xl font-bold"};function I(u,s,t,e,c,m){return d(),i("div",j,[h("h2",E,g(t.title),1),M(u.$slots,"default")])}const L=S(K,[["render",I],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/components/Group.vue"]]),A={__name:"Subgroup",props:{title:String},setup(u,{expose:s}){s();const t={};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},J={class:"mb-5"},R={class:"mb-2 text-lg font-semibold"};function Y(u,s,t,e,c,m){return d(),i("div",J,[h("h3",R,g(t.title),1),M(u.$slots,"default")])}const q=S(A,[["render",Y],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/components/Subgroup.vue"]]),z={__name:"Field",props:{label:String,type:String,options:Array,modelValue:[String,Number]},emits:["update:modelValue"],setup(u,{expose:s,emit:t}){s();const e=t,m={emit:e,updateValue:l=>{e("update:modelValue",l.target.value)}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}},D={class:"mb-5 flex space-x-2 items-center"},H=["for"],Q=["id","value"],W=["id","value"],X=["id","value"],Z=["value"];function $(u,s,t,e,c,m){return d(),i("div",D,[h("label",{for:t.label,class:"block mb-1 whitespace-nowrap w-32"},g(t.label),9,H),t.type==="text"?(d(),i("input",{key:0,id:t.label,value:t.modelValue,onInput:e.updateValue,class:"w-full p-2 border rounded",type:"text"},null,40,Q)):v("v-if",!0),t.type==="password"?(d(),i("input",{key:1,id:t.label,value:t.modelValue,onInput:e.updateValue,class:"w-full p-2 border rounded",type:"password"},null,40,W)):v("v-if",!0),t.type==="select"?(d(),i("select",{key:2,id:t.label,value:t.modelValue,onChange:e.updateValue,class:"w-full p-2 border rounded"},[(d(!0),i(T,null,N(t.options,l=>(d(),i("option",{key:l,value:l},g(l),9,Z))),128))],40,X)):v("v-if",!0)])}const ee=S(z,[["render",$],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/components/Field.vue"]]),te={__name:"Settings",setup(u,{expose:s}){s();const t=w({general:{theme:"light"},providers:[]}),e=F,c=()=>{const o=V.get(y);o!=null&&o.id&&(o.providers=o.providers||[],o.providers=o.providers.map(a=>{const p=e.find(B=>B.label===a.name);return(p?[...p.models,"custom"]:["custom"]).includes(a.model)||(a.customModel=a.model,a.model="custom"),a}),t.value=o)},m=()=>{const o=JSON.parse(JSON.stringify(t.value));o.providers=o.providers.map(a=>{const p=e.find(k=>k.label===a.name);return a.url=p?p.url:"",a.model==="custom"&&(a.model=a.customModel),a}),o.providers.length&&!o.providerSelected&&(o.providerSelected=o.providers[0].name),o.id=y,V.update(o),c(),U.showNotification("Settings saved!")},l=()=>{t.value.providers.push({name:"",model:"",customModel:"",apiKey:"",proxyUrl:""})},f=o=>{t.value.providers.splice(o,1)},n=o=>{const a=e.find(p=>p.label===o);return a?[...a.models,"custom"]:["custom"]};P(()=>{c()});const x={settings:t,providerOptions:e,loadSettings:c,saveSettings:m,addProvider:l,removeProvider:f,getModelsForProvider:n,onMounted:P,ref:w,Group:L,Subgroup:q,Field:ee,Button:G,get database(){return V},Title:O,get providers(){return F},get SETTINGS_KEY(){return y},get notification(){return U}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}},le={class:"space-y-12 w-2/4 m-auto h-full overflow-y-auto p-8"};function oe(u,s,t,e,c,m){return d(),i("div",le,[r(e.Title,null,{default:_(()=>[b("Settings")]),_:1}),r(e.Group,{title:"General"},{default:_(()=>[r(e.Subgroup,{title:"Theme"},{default:_(()=>[r(e.Field,{modelValue:e.settings.general.theme,"onUpdate:modelValue":s[0]||(s[0]=l=>e.settings.general.theme=l),options:["light","dark"],label:"Theme",type:"select"},null,8,["modelValue"])]),_:1})]),_:1}),r(e.Group,{title:"LLM Providers"},{default:_(()=>[r(e.Button,{onClick:e.addProvider},{default:_(()=>[b("Add Provider")]),_:1}),(d(!0),i(T,null,N(e.settings.providers,(l,f)=>(d(),i("div",{key:f,class:"pb-4 mb-4"},[r(e.Subgroup,{title:"Provider "+(f+1)},{default:_(()=>[r(e.Field,{modelValue:l.name,"onUpdate:modelValue":n=>l.name=n,options:e.providerOptions.map(n=>n.label),label:"Provider",type:"select"},null,8,["modelValue","onUpdate:modelValue","options"]),r(e.Field,{modelValue:l.model,"onUpdate:modelValue":n=>l.model=n,options:e.getModelsForProvider(l.name),label:"Model",type:"select"},null,8,["modelValue","onUpdate:modelValue","options"]),l.model==="custom"?(d(),C(e.Field,{key:0,modelValue:l.customModel,"onUpdate:modelValue":n=>l.customModel=n,label:"Custom Model",type:"text"},null,8,["modelValue","onUpdate:modelValue"])):v("v-if",!0),r(e.Field,{modelValue:l.apiKey,"onUpdate:modelValue":n=>l.apiKey=n,label:"API Key",type:"password"},null,8,["modelValue","onUpdate:modelValue"]),r(e.Field,{modelValue:l.proxyUrl,"onUpdate:modelValue":n=>l.proxyUrl=n,label:"Proxy URL",type:"text"},null,8,["modelValue","onUpdate:modelValue"]),r(e.Button,{class:"mt-2",onClick:()=>e.removeProvider(f)},{default:_(()=>[b("Remove")]),_:2},1032,["onClick"])]),_:2},1032,["title"])]))),128))]),_:1}),r(e.Button,{onClick:e.saveSettings},{default:_(()=>[b("Save Settings")]),_:1})])}const de=S(te,[["render",oe],["__file","/home/runner/work/artifacts-ai/artifacts-ai/src/views/settings/Settings.vue"]]);export{de as default};
